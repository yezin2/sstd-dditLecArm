<!DOCTYPE html>
<html lang="kr">
<head>
	<meta charset="UTF-8">
	<title>JSON 예제</title>
	<script src="../../js/jquery-3.6.0.js"></script>
	<script type="text/javascript">
			var obj = {name: "홍길동"
					   , birth: "1998-07-11"
					   , age: 24
					   , address: {nation: "조선", city: "전라도"}
					   , hobby: ["무술", "검술", "독서"]
			};
// 			obj.name ==>"홍길동"
		$(document).ready(function() {
			$("button").click(function() {
// 				1) 1차변환(obj>str)
// 				object를 string으로 변환 >> JSON.stringfy(obj)
				var strTmp = JSON.stringify(obj);
				$("#span1").text(strTmp);
				
// 				2) 2차변환(str>obj)
// 				string을 object로 변환하기 - JSON.parse(str)
				var objTmp = JSON.parse(strTmp);
				$("#span2").text(objTmp);
// 				.html()이 아닌 .text()로 표시할 것

// 				3) 나머지 표시해주기
// 				$("#name").html(objTmp.name);
				//이름
				$("#name").text(objTmp.name);
				//주소
				$("#addr").text(objTmp.address.nation + ", " + objTmp.address.city);
				//취미
// 				$("#hobby").text(objTmp.hobby);
				var strBobby = "";
				for(var i=0; i<objTmp.hobby.length; i++){
					strHobby += objTmp.hobby[i] + ", ";
				}
				strHobby = strHobby.substr(0, strHobby.length-2);
				$("#hobby").text(strHobby);
				//생년월일
				var date = new Date(objTmp.birth);
				$("#birth").text(objTmp.birth);
			});
			$("#name").html = obj.name();
		});
	</script>
</head>
<body>
	<button>JSON 변환 테스트</button>
	<p>
		1차 변환(obj > str) : <span id="span1"></span>
	</p>
	<p>
		2차 변환(str > obj) : <span id="span2"></span>
	</p>
	<p>
		이름 : <span id="name"></span>
	</p>
	<p>
		주소 : <span id="addr"></span>
	</p>
	<p>
		취미 : <span id="hobby"></span>
	</p>
	<p>
		생년월일 : <span id="birth"></span>
		</p>
</body>
</html>