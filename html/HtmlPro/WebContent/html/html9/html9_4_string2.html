<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>주민번호 입력받아 생년월일과 성별 출력</title>
	<script type="text/javascript">
		var curTime = (new Date).getTime();
		
		//var age = curdate - (new Date).regn.substr(1,6);
		
		function proc() {
			var val = document.getElementById("jumin1").value;
			var tmp = val.substr(6,1)
			var year = val.substr(0,2);
			if(tmp == 3 || tmp == 4){
				year = "20"+year;
			}else if(tmp == 1 || tmp == 2){
				year = "19"+year;
			}
			var month = val.substr(2,2);
			var day = val.substr(4,2);
			var gend = "";
			if(tmp % 2 == 0){
				gend = "여자";		
			} else{
				gend = "남자";		
			}
			document.getElementById("spYear").innerHTML = year;
			document.getElementById("spMonth").innerHTML = month;
			document.getElementById("spDay").innerHTML = day;
			document.getElementById("spGend").innerHTML = gend;
		}
		
		function procnum() {
			var val = document.getElementById("jumin2").value;
			var tmp = [2,3,4,5,6,7,8,9,2,3,4,5];
			var sum = 0;
			for(var i=0; i<tmp.length; i++){
				sum += val.substr(i,1)*tmp[i];
			}//총합
			var cha = sum % 11;
			var temp = 11 - cha;
			
			if(temp == 10){
				temp = 0;
			} else if(temp == 11){
				temp = 1;
			}
			
			if(temp == val.substr(12,1)){
				document.write("유효성검사 통과");
			} else{
				document.write("유효성검사 불통");				
			}
		}
	</script>
</head>
<body>
	주민등록번호 : <input type="text" id="jumin1">
	<button type="button" onclick="proc()">확인</button>
	<hr>
	연도 : <span id="spYear"></span><br>
	월 : <span id="spMonth"></span><br>
	일 : <span id="spDay"></span><br>
	성별 : <span id="spGend"></span><br>
	<hr>
	<h3>주민등록번호 유효성 검사</h3>
	주민등록번호 : <input type="text" id="jumin2">
	<button type="button" onclick="procnum()">확인</button>
</body>
</html>