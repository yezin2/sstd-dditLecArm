<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap
         PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN"
         "http://ibatis.apache.org/dtd/sql-map-2.dtd">

<sqlMap namespace="board">
	<insert id="insertBoard" parameterClass="kr.or.ddit.board.vo.BoardVO">
		insert into BOARD
		(BOARD_NO, BOARD_TITLE, BOARD_AUTHOR, BOARD_CONTENT, BOARD_DATE)
		values(SEQ_BOARD_NO.NEXTVAL,#boardTitle#,#boardAuthor#,#boardContent#,sysdate)
	</insert>
	<update id="updateBoard" parameterClass="kr.or.ddit.board.vo.BoardVO">
		update BOARD set BOARD_TITLE = #boardTitle# 
						, BOARD_AUTHOR = #boardAuthor# 
						, BOARD_CONTENT = #boardContent# 
		where BOARD_NO = #boardNo#
	</update>
	<delete id="deleteBoard" parameterClass="String">
		delete from BOARD where BOARD_NO = #boardNo#
	</delete>
	
	<select id="selectAllBoard" resultClass="kr.or.ddit.board.vo.BoardVO">
		select BOARD_NO 	boardNo
			, BOARD_TITLE 	boardTitle
			, BOARD_AUTHOR	boardAuthor
			, BOARD_CONTENT	boardContent
			, TO_CHAR(BOARD_DATE,'yy-mm-dd') 	boardDate
		from BOARD
	</select>
	<select id="existBoardByboardNo" parameterClass="String" resultClass="kr.or.ddit.board.vo.BoardVO">
		select BOARD_NO 	boardNo
			, BOARD_TITLE	boardTitle
			, BOARD_AUTHOR	boardAuthor
			, BOARD_CONTENT	boardContent
			, TO_CHAR(BOARD_DATE,'yy-mm-dd')	boardDate
		from BOARD where BOARD_NO = #boardNo#
	</select>
	<select id="selectBoardbyVO" parameterClass="kr.or.ddit.board.vo.BoardVO" resultClass="kr.or.ddit.board.vo.BoardVO">
		select * from BOARD where 1=1 
		<isNotEmpty property="boardNo">
			and BOARD_NO like '%' || #boardNo# || '%'
		</isNotEmpty>
		<isNotEmpty property="boardTitle">
			and BOARD_TITLE like '%' || #boardTitle# || '%'
		</isNotEmpty>
		<isNotEmpty property="boardAuthor">
			and BOARD_AUTHOR like '%' || #boardAuthor# || '%'
		</isNotEmpty>
	</select>
	
</sqlMap>